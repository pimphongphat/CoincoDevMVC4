@model Coinco.SMS.Website.Models.Site
@using Telerik.Web.Mvc.UI


 @{
    Html.Telerik().DropDownList().Name("siteDropDownList")
        .BindTo((SelectList)TempData["FeaturedSites"])
        .ClientEvents(e => e.OnOpen("onOpen"))
        .ClientEvents(e => e.OnChange("GetServiceOrders"))
        .HtmlAttributes(new { style = "font-size: 8pt; font-family: Calibri;" })
        .DropDownHtmlAttributes(new { style = "font-size: 11pt; font-family: Calibri;" })     
        .Render();
        }

<script type="text/javascript">
            

    $(function GetServiceOrders(e) {

    
       var dropDownList = $('#siteDropDownList').data('tDropDownList');
        if (dropDownList != null) {  

            var siteId = dropDownList.value();
            
            $.ajax({
                url: "/WorkOrder/ServiceOrderWithHistory",
                type: 'GET',
                data: { siteId: siteId, process: -1 },
                dataType: 'html',
                success: function (result) {
                    $('#SOWH').html(result);
                }

            });
    
        }
        return false;
    });

    onOpen = function (e) {
        $.each($('#siteDropDownList').data('tDropDownList').dropDown.$items, function (idx, item) {
            $(item).addClass('bold-item');
        });
    }
</script>